<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" th:href="@{/resources/css/mypage/mypage.css}" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sunn-us/SUITE/fonts/static/woff2/SUITE.css">

    <title>지우자:지금우리자리는</title>
</head>
<body>
    <header class="hd-container">
        <ul>
            <li><a href="">홈버튼</a></li>
            <!-- <li><a href="">로그인</a></li>
            <li><a href="">회원가입</a></li>
            <li><a href="">마이페이지</a></li> -->
        </ul>
    </header>
    <nav class="nav-container">
        <ul>
            <li>예매하기</li>
            <!-- <li>조회/ 환불하기</li>
            <li>이용안내</li>
            <li>고객안내</li> -->
        </ul>
    </nav>

    <section>
        <article>
            <h1 class="big-title">내 정보</h1>
            <div class="first-container">
                <div class="content">
                    <!-- 정보 백에서 가져와야함 -->
                    <h2 class="name-info"><span id="username"></span>님</h2>
                    <p class="tel-info">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                        <path d="M23.9999 16.3751V21.4104C24.0038 21.7806 23.9271 22.1472 23.7752 22.4851C23.6233 22.823 23.3996 23.124 23.1197 23.3675C22.8398 23.6111 22.5102 23.7913 22.1536 23.8958C21.7971 24.0003 21.422 24.0266 21.0543 23.9729C15.9568 23.3206 11.222 20.9974 7.5961 17.3694C3.97016 13.7413 1.65914 9.01464 1.02719 3.93411C0.973455 3.56889 0.999564 3.19641 1.10373 2.84217C1.2079 2.48793 1.38767 2.16029 1.63074 1.88167C1.8738 1.60305 2.17443 1.38003 2.51205 1.22786C2.84966 1.0757 3.2163 0.997984 3.58686 1.00004H8.5647C8.88268 0.998118 9.19011 1.11359 9.42764 1.32418C9.66518 1.53476 9.81599 1.82553 9.85096 2.14035C9.9786 3.81953 10.4146 5.46111 11.1372 6.98349C11.2611 7.27181 11.2746 7.59538 11.175 7.89292C11.0755 8.19045 10.8698 8.44127 10.597 8.59787L9.49081 9.22568C9.33136 9.31303 9.19234 9.43309 9.08292 9.57792C8.9735 9.72276 8.89617 9.88907 8.85606 10.0659C8.81594 10.2427 8.81394 10.4259 8.85019 10.6036C8.88644 10.7812 8.96011 10.9491 9.06634 11.0963C10.3389 12.9531 11.9486 14.5566 13.8127 15.8241C13.9604 15.9299 14.129 16.0033 14.3073 16.0394C14.4856 16.0755 14.6696 16.0736 14.8471 16.0336C15.0246 15.9936 15.1916 15.9166 15.337 15.8076C15.4824 15.6986 15.6029 15.5601 15.6906 15.4013L16.3209 14.2994C16.4875 14.0241 16.7519 13.8213 17.0616 13.7311C17.3713 13.6409 17.7038 13.67 17.993 13.8126C19.5213 14.5324 21.1693 14.9667 22.8551 15.0938C23.1711 15.1287 23.463 15.2789 23.6745 15.5155C23.8859 15.7521 24.0018 16.0583 23.9999 16.3751Z" stroke="#5F5F5F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span id="phoneNum"></span>
                    </p>
                </div>

                <p class="edit"><a href="">내 정보 수정하기 ></a></p>
            </div>
            
            <div class="second-container">
                <p class="small-title">포인트</p>
                <!-- 백에서 얻어와야하는 데이터 -->

                <div class="second-in-container">
                    <p class="data" id="pointsTotal"></p>
                    <p style="font-size: 32px;">포인트보유중</p>
                    <div class="btn">
                        <button class="usehistory-btn">사용내역</button>
                        <button class="charge-btn" id="chargePoint">충전하기</button>
                    </div>
                </div>
    
            </div>

            <div class="third-container">
                <p class="small-title">예매 내역</p>
                <!-- 수정했어요 -->
                <table>
                    <tbody>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    </tbody>
                </table>
                <p class="see-more"><a href="">더 보기 ></a></p>
            </div>
        </article>
    </section>

    <footer>
        copy
    </footer>

<script src="http://code.jquery.com/jquery-3.5.1.min.js"></script>
<script th:src="@{/resources/js/common.js}"></script>
<script th:inline="javascript">
    /*<![CDATA[*/
    window.onload = () => {
        settingInit();
        page_event();
    }

    // 초기 데이터 셋팅
    function settingInit(){
        const username = /*[[ ${infoBasic.username} ]]*/;
        const phoneNum = /*[[ ${infoBasic.nickname} ]]*/;
        const pointsTotal = /*[[ ${infoBasic.pointsTotal} ]]*/;

        $('#username').text(username);
        $('#phoneNum').text(ella_toTel(phoneNum));
        $('#pointsTotal').text(ella_comma(pointsTotal));
    }


    // 페이지 이벤트 모음
    function page_event(){
        // 포인트 충전 팝업 열기
        $('#chargePoint').on('click',function(){
            window.open("/mine/JIUJA/popup/pointCharge/main", "포인트 충전", "width=885, height=586, location=no, status=no, toolbars=no, scrollbars=no, resizable=no, overflow:hidden, top:100px, left:100px");
        });
    }

    /*]]>*/
</script>

</body>
</html>